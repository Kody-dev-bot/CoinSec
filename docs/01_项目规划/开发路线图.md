# Coinsec 开发路线图（总周期：8-10周）
**核心策略**：迭代式开发，每个版本完成后进行内部测试，修复问题后再进入下一阶段，确保交付质量。


## 一、项目准备阶段（第1周：基础搭建）
### 核心目标：完成开发环境搭建、基础架构设计，为正式开发铺路
| 任务模块       | 具体任务                                                                 | 负责人（个人开发可忽略） | 交付物                                                                 |
|----------------|--------------------------------------------------------------------------|--------------------------|------------------------------------------------------------------------|
| 环境搭建       | 1. 安装开发工具（IDEA、Android Studio、VS Code）<br>2. 配置JDK11、Flutter3.x、Node.js<br>3. 安装MariaDB、Redis（可选） | 个人                     | 可正常运行的本地开发环境                                               |
| 项目初始化     | 1. 后端：用Spring Initializr创建Spring Boot项目，引入核心依赖（Web、MyBatis-Plus、Sa-Token）<br>2. 移动端：用Flutter CLI创建项目，配置基础依赖（dio、provider）<br>3. Web端：用Vite创建Vue3项目，引入Element Plus、Pinia | 个人                     | 三个端的初始化项目工程，可正常启动                                     |
| 数据库设计落地 | 1. 按设计创建版本一的3张表（user、category、account_record）<br>2. 插入默认分类数据（餐饮、交通等）<br>3. 配置MyBatis-Plus逆向工程生成实体类、Mapper | 个人                     | 可连接的数据库、自动生成的基础数据层代码                               |
| 接口规范定义   | 1. 确定统一响应格式（code、msg、data）<br>2. 定义版本一的接口文档（用Swagger注解）<br>3. 封装全局异常处理器、响应工具类 | 个人                     | 接口规范文档、可复用的基础工具类                                       |


## 二、版本一：Coinsec基础版（第2-3周：核心功能开发）
### 核心目标：实现“对话记账+基础管理”核心功能，移动端可独立使用
#### 第2周：后端核心接口开发
| 任务模块       | 具体任务                                                                 | 交付物                                                                 |
|----------------|--------------------------------------------------------------------------|------------------------------------------------------------------------|
| 用户认证接口   | 1. 开发注册、登录、密码重置、退出登录接口<br>2. 集成Sa-Token实现Token管理<br>3. 编写接口测试用例（Postman） | 可正常调用的认证接口、测试用例                                         |
| 分类管理接口   | 1. 开发分类查询、新增、修改、删除接口<br>2. 实现分类排序逻辑<br>3. 接口权限控制（需登录） | 分类管理接口、权限控制生效                                             |
| 对话记账接口   | 1. 开发对话文本解析接口（基于规则引擎）<br>2. 开发记账记录新增、查询、修改、删除接口<br>3. 实现记录筛选（时间、分类） | 对话解析接口、记账CRUD接口，支持基础筛选                               |

#### 第3周：Flutter移动端开发+联调
| 任务模块       | 具体任务                                                                 | 交付物                                                                 |
|----------------|--------------------------------------------------------------------------|------------------------------------------------------------------------|
| 移动端页面开发 | 1. 开发登录、注册、忘记密码页面<br>2. 开发记账首页（对话输入框、解析预览）<br>3. 开发记录列表、记录详情、分类管理页面 | 完整的移动端页面，UI适配主流手机分辨率                                 |
| 业务逻辑实现   | 1. 封装网络请求工具类（dio），处理Token携带<br>2. 实现登录状态管理（provider）<br>3. 对接后端接口，完成注册、登录、记账流程 | 可正常登录、记账、管理分类的移动端应用                                 |
| 联调与Bug修复  | 1. 后端接口与移动端联调，修复数据格式、权限问题<br>2. 测试边界场景（如空输入、重复注册）<br>3. 优化用户体验（如加载动画、错误提示） | 联调通过的版本一移动端应用，无明显功能Bug                              |


## 三、版本二：Coinsec AI版（第4-6周：智能增强开发）
### 核心目标：引入AI解析，开发Web端，实现“移动端+Web端”跨端同步
#### 第4周：AI解析模块开发（后端）
| 任务模块       | 具体任务                                                                 | 交付物                                                                 |
|----------------|--------------------------------------------------------------------------|------------------------------------------------------------------------|
| AI接口集成     | 1. 开发AI解析服务（对接OpenAI/百度文心一言）<br>2. 实现“AI解析/规则解析”切换开关<br>3. 封装AI请求工具类，处理超时、重试 | AI解析服务、可切换的解析引擎                                           |
| 智能纠错功能   | 1. 开发模糊解析补全、歧义处理逻辑<br>2. 新增ai_parse_log表，开发解析日志接口<br>3. 对接记账接口，替换规则解析为AI解析 | 智能纠错功能生效、解析日志可查询                                       |
| 后端优化       | 1. 优化接口性能（添加索引、缓存高频分类数据）<br>2. 完善异常处理（AI调用失败降级为规则解析）<br>3. 更新Swagger接口文档 | 优化后的后端服务、更新后的接口文档                                     |

#### 第5周：Vue3 Web端开发
| 任务模块       | 具体任务                                                                 | 交付物                                                                 |
|----------------|--------------------------------------------------------------------------|------------------------------------------------------------------------|
| Web端页面开发  | 1. 开发登录、个人中心页面<br>2. 开发记录列表、记录详情页面（支持表格/卡片视图）<br>3. 开发基础统计页面（收支汇总、分类占比饼图） | 完整的Web端页面，响应式适配电脑/平板                                   |
| 业务逻辑实现   | 1. 封装Axios请求，处理跨域、Token认证<br>2. 实现Pinia状态管理、Vue Router路由控制<br>3. 集成ECharts实现统计图表 | Web端可正常登录、查看记录、查看统计数据                                 |

#### 第6周：跨端联调+测试优化
| 任务模块       | 具体任务                                                                 | 交付物                                                                 |
|----------------|--------------------------------------------------------------------------|------------------------------------------------------------------------|
| 跨端同步测试   | 1. 测试移动端与Web端数据同步（新增/修改/删除记录）<br>2. 修复同步冲突问题（如同时修改同一条记录）<br>3. 优化同步提示体验 | 跨端数据同步正常，无数据不一致问题                                     |
| AI解析测试优化 | 1. 测试AI解析的准确性（覆盖100+常见记账场景）<br>2. 优化提示词，提升解析成功率<br>3. 记录解析日志，分析失败原因 | AI解析成功率≥90%，失败场景可降级为规则解析                             |
| 版本二交付     | 1. 整理版本二文档（更新需求文档、接口文档）<br>2. 打包移动端APK、Web端静态文件<br>3. 本地部署测试（后端JAR包、Web端Nginx部署） | 可本地部署的版本二完整应用（后端+移动端+Web端）                         |


## 四、版本三：Coinsec个性版（第7-8周：体验升级开发）
### 核心目标：实现风格化AI回复，完善个性化配置，优化整体体验
#### 第7周：风格化回复模块开发
| 任务模块       | 具体任务                                                                 | 交付物                                                                 |
|----------------|--------------------------------------------------------------------------|------------------------------------------------------------------------|
| 后端功能开发   | 1. 新增style_template、ai_reply_record表，开发风格模板CRUD接口<br>2. 开发AI流式回复接口（对接第三方AI流式API）<br>3. 开发回复记录查询接口 | 风格模板接口、流式回复接口，支持回复记录查询                           |
| 移动端风格功能 | 1. 开发风格选择页面（下拉框/卡片选择）<br>2. 实现流式回复UI（打字机效果）<br>3. 对接后端接口，完成“记账→风格回复”流程 | 移动端支持风格选择、流式回复显示                                       |
| Web端风格功能  | 1. 开发风格管理页面（支持新增、修改自定义风格）<br>2. 实现默认风格设置功能<br>3. 对接后端接口，同步风格配置 | Web端支持风格管理、默认风格设置                                         |

#### 第8周：个性化配置+优化收尾
| 任务模块       | 具体任务                                                                 | 交付物                                                                 |
|----------------|--------------------------------------------------------------------------|------------------------------------------------------------------------|
| 个性化功能开发 | 1. 开发移动端/Web端主题切换功能（浅色/深色）<br>2. 开发数据导出功能（CSV格式）<br>3. 实现风格偏好记忆逻辑 | 主题切换、数据导出功能生效，风格偏好自动排序                           |
| 整体优化       | 1. 优化UI细节（统一配色、图标）<br>2. 优化性能（减少接口请求、优化缓存）<br>3. 修复已知Bug（兼容性、体验问题） | 无明显功能Bug、UI统一、性能流畅的完整应用                               |
| 版本三交付     | 1. 编写部署文档（服务器部署步骤、环境配置）<br>2. 打包最终版本（后端JAR、移动端APK、Web端静态文件）<br>3. 整理全套项目文档（需求、设计、开发文档） | 可部署上线的Coinsec最终版本、完整项目文档                               |


## 五、上线与迭代阶段（第9-10周：部署+持续优化）
### 核心目标：将项目部署到云服务器，收集反馈并持续迭代
| 任务模块       | 具体任务                                                                 | 交付物                                                                 |
|----------------|--------------------------------------------------------------------------|------------------------------------------------------------------------|
| 服务器部署     | 1. 购买云服务器（如阿里云轻量应用服务器）<br>2. 部署MariaDB、Redis、Nginx<br>3. 部署后端JAR包、Web端静态文件 | 可公网访问的Coinsec应用（Web端可通过域名访问，移动端可安装APK）         |
| 数据备份与监控 | 1. 配置数据库定时备份<br>2. 部署简单监控工具（如Spring Boot Admin）<br>3. 配置日志收集（如ELK简化版） | 数据备份策略生效、服务状态可监控                                       |
| 迭代规划       | 1. 记录使用过程中的问题与优化点<br>2. 规划后续迭代功能（如多用户协作、理财建议）<br>3. 学习新技术（如本地AI模型部署） | 问题清单、迭代规划文档                                                 |


## 六、关键里程碑与风险应对
| 里程碑         | 完成时间 | 核心交付物                                                                 | 潜在风险                                  | 应对措施                                                                 |
|----------------|----------|----------------------------------------------------------------------------|-------------------------------------------|--------------------------------------------------------------------------|
| 基础环境搭建   | 第1周末  | 可运行的开发环境、初始化项目                                               | 环境配置冲突（如Flutter依赖问题）          | 参考官方文档排查，使用国内镜像源，记录配置步骤                             |
| 版本一交付     | 第3周末  | 可记账的移动端应用                                                         | 规则解析准确率低                          | 覆盖更多测试场景，优化关键词匹配逻辑，预留AI解析替换入口                   |
| 版本二交付     | 第6周末  | 支持AI解析的跨端应用                                                       | AI接口调用失败、成本超支                  | 实现降级策略，设置API调用额度提醒，缓存重复请求                           |
| 版本三交付     | 第8周末  | 支持风格化回复的完整应用                                                   | 流式回复卡顿、UI体验差                    | 优化网络请求，添加加载动画，参考同类应用设计UI                             |
| 上线部署完成   | 第10周末 | 公网可访问的Coinsec应用                                                     | 服务器性能不足、数据安全风险              | 选择合适配置的服务器，开启HTTPS，加密敏感配置，定期备份数据                 |


## 七、开发工具与技术栈清单
| 开发阶段       | 工具/技术栈                                                                 | 说明                                                                 |
|----------------|-----------------------------------------------------------------------------|----------------------------------------------------------------------|
| 后端开发       | Spring Boot 2.7.x、MyBatis-Plus 3.5.x、Sa-Token 1.34.x、MariaDB 8.0、Redis 6.x | 核心框架+ORM+权限+数据库+缓存                                         |
| 移动端开发     | Flutter 3.x、Dio、Provider、Flutter ScreenUtil、Fl Chart                     | 跨平台框架+网络请求+状态管理+适配+图表                                 |
| Web端开发      | Vue 3、Vite、Element Plus、Pinia、Vue Router、ECharts                       | 前端框架+构建工具+UI组件+状态管理+路由+图表                             |
| 开发/测试工具  | IDEA、Android Studio、VS Code、Postman、Navicat、Mermaid Live Editor         | 开发IDE+接口测试+数据库管理+图表绘制                                   |
| 部署工具       | 阿里云轻量应用服务器、Nginx、Jenkins（可选）                                 | 服务器+Web服务器+自动化部署（可选）                                   |
